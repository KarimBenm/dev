 pipeline {
                    agent any
 stages{

stage('SCM Checkout'){
     steps{
git branch: 'dev', changelog: false, credentialsId: '1ce8f45f-2f58-450d-8462-32bfda5ee059', url: 'https://github.com/KarimBenm/prod'}
}

stage('Build'){
     steps{
bat  'docker-compose up --build'
}
}
stage ('Deploy') {
 steps{
withCredentials([string(credentialsId: 'dockerHub', variable: 'dockerhubaccount')]) {
bat "docker login -u karim01 -p ${dockerhubaccount}"
}
bat 'docker push  karimlyes/karim01/gds:1.0.0'
}
}
}
}
